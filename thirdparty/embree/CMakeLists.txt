set(EMBREE_SOURCE_DIR ${GODOT_SOURCE_ROOT_THIRDPARTY_DIR}/embree)
set(EMBREE_SOURCE
    ${EMBREE_SOURCE_DIR}/common/math/color.h
    ${EMBREE_SOURCE_DIR}/common/math/range.h
    ${EMBREE_SOURCE_DIR}/common/math/vec3.h
    ${EMBREE_SOURCE_DIR}/common/math/transcendental.h
    ${EMBREE_SOURCE_DIR}/common/math/lbbox.h
    ${EMBREE_SOURCE_DIR}/common/math/constants.cpp
    ${EMBREE_SOURCE_DIR}/common/math/vec3ba.h
    ${EMBREE_SOURCE_DIR}/common/math/linearspace3.h
    ${EMBREE_SOURCE_DIR}/common/math/interval.h
    ${EMBREE_SOURCE_DIR}/common/math/vec2.h
    ${EMBREE_SOURCE_DIR}/common/math/constants.h
    ${EMBREE_SOURCE_DIR}/common/math/linearspace2.h
    ${EMBREE_SOURCE_DIR}/common/math/obbox.h
    ${EMBREE_SOURCE_DIR}/common/math/vec2fa.h
    ${EMBREE_SOURCE_DIR}/common/math/vec4.h
    ${EMBREE_SOURCE_DIR}/common/math/affinespace.h
    ${EMBREE_SOURCE_DIR}/common/math/math.h
    ${EMBREE_SOURCE_DIR}/common/math/bbox.h
    ${EMBREE_SOURCE_DIR}/common/math/vec3ia.h
    ${EMBREE_SOURCE_DIR}/common/math/col3.h
    ${EMBREE_SOURCE_DIR}/common/math/quaternion.h
    ${EMBREE_SOURCE_DIR}/common/math/col4.h
    ${EMBREE_SOURCE_DIR}/common/math/vec3fa.h
    ${EMBREE_SOURCE_DIR}/common/algorithms/parallel_reduce.h
    ${EMBREE_SOURCE_DIR}/common/algorithms/parallel_set.h
    ${EMBREE_SOURCE_DIR}/common/algorithms/parallel_filter.h
    ${EMBREE_SOURCE_DIR}/common/algorithms/parallel_sort.h
    ${EMBREE_SOURCE_DIR}/common/algorithms/parallel_for_for_prefix_sum.h
    ${EMBREE_SOURCE_DIR}/common/algorithms/parallel_prefix_sum.h
    ${EMBREE_SOURCE_DIR}/common/algorithms/parallel_map.h
    ${EMBREE_SOURCE_DIR}/common/algorithms/parallel_any_of.h
    ${EMBREE_SOURCE_DIR}/common/algorithms/parallel_partition.h
    ${EMBREE_SOURCE_DIR}/common/algorithms/parallel_for.h
    ${EMBREE_SOURCE_DIR}/common/algorithms/parallel_for_for.h
    ${EMBREE_SOURCE_DIR}/common/simd/vdouble8_avx512.h
    ${EMBREE_SOURCE_DIR}/common/simd/vllong4_avx2.h
    ${EMBREE_SOURCE_DIR}/common/simd/varying.h
    ${EMBREE_SOURCE_DIR}/common/simd/vllong8_avx512.h
    ${EMBREE_SOURCE_DIR}/common/simd/vboolf4_avx512.h
    ${EMBREE_SOURCE_DIR}/common/simd/vboold4_avx.h
    ${EMBREE_SOURCE_DIR}/common/simd/vboold8_avx512.h
    ${EMBREE_SOURCE_DIR}/common/simd/vboold4_avx512.h
    ${EMBREE_SOURCE_DIR}/common/simd/vdouble4_avx.h
    ${EMBREE_SOURCE_DIR}/common/simd/vboolf8_avx512.h
    ${EMBREE_SOURCE_DIR}/common/simd/vboolf8_avx.h
    ${EMBREE_SOURCE_DIR}/common/simd/vfloat16_avx512.h
    ${EMBREE_SOURCE_DIR}/common/simd/vboolf4_sse2.h
    ${EMBREE_SOURCE_DIR}/common/simd/sse.cpp
    ${EMBREE_SOURCE_DIR}/common/simd/avx512.h
    ${EMBREE_SOURCE_DIR}/common/simd/vuint4_sse2.h
    ${EMBREE_SOURCE_DIR}/common/simd/vboolf16_avx512.h
    ${EMBREE_SOURCE_DIR}/common/simd/vfloat8_avx.h
    ${EMBREE_SOURCE_DIR}/common/simd/vint8_avx2.h
    ${EMBREE_SOURCE_DIR}/common/simd/vint16_avx512.h
    ${EMBREE_SOURCE_DIR}/common/simd/avx.h
    ${EMBREE_SOURCE_DIR}/common/simd/wasm/emulation.h
    ${EMBREE_SOURCE_DIR}/common/simd/vuint8_avx.h
    ${EMBREE_SOURCE_DIR}/common/simd/vuint8_avx2.h
    ${EMBREE_SOURCE_DIR}/common/simd/vint8_avx.h
    ${EMBREE_SOURCE_DIR}/common/simd/vint4_sse2.h
    ${EMBREE_SOURCE_DIR}/common/simd/arm/avx2neon.h
    ${EMBREE_SOURCE_DIR}/common/simd/arm/emulation.h
    ${EMBREE_SOURCE_DIR}/common/simd/arm/sse2neon.h
    ${EMBREE_SOURCE_DIR}/common/simd/vuint16_avx512.h
    ${EMBREE_SOURCE_DIR}/common/simd/vfloat4_sse2.h
    ${EMBREE_SOURCE_DIR}/common/simd/sse.h
    ${EMBREE_SOURCE_DIR}/common/simd/simd.h
    ${EMBREE_SOURCE_DIR}/common/sys/barrier.h
    ${EMBREE_SOURCE_DIR}/common/sys/thread.cpp
    ${EMBREE_SOURCE_DIR}/common/sys/barrier.cpp
    ${EMBREE_SOURCE_DIR}/common/sys/regression.h
    ${EMBREE_SOURCE_DIR}/common/sys/sysinfo.cpp
    ${EMBREE_SOURCE_DIR}/common/sys/library.cpp
    ${EMBREE_SOURCE_DIR}/common/sys/string.cpp
    ${EMBREE_SOURCE_DIR}/common/sys/condition.cpp
    ${EMBREE_SOURCE_DIR}/common/sys/atomic.h
    ${EMBREE_SOURCE_DIR}/common/sys/regression.cpp
    ${EMBREE_SOURCE_DIR}/common/sys/mutex.h
    ${EMBREE_SOURCE_DIR}/common/sys/string.h
    ${EMBREE_SOURCE_DIR}/common/sys/condition.h
    ${EMBREE_SOURCE_DIR}/common/sys/mutex.cpp
    ${EMBREE_SOURCE_DIR}/common/sys/library.h
    ${EMBREE_SOURCE_DIR}/common/sys/filename.cpp
    ${EMBREE_SOURCE_DIR}/common/sys/alloc.h
    ${EMBREE_SOURCE_DIR}/common/sys/sysinfo.h
    ${EMBREE_SOURCE_DIR}/common/sys/platform.h
    ${EMBREE_SOURCE_DIR}/common/sys/array.h
    ${EMBREE_SOURCE_DIR}/common/sys/alloc.cpp
    ${EMBREE_SOURCE_DIR}/common/sys/vector.h
    ${EMBREE_SOURCE_DIR}/common/sys/intrinsics.h
    ${EMBREE_SOURCE_DIR}/common/sys/ref.h
    ${EMBREE_SOURCE_DIR}/common/sys/filename.h
    ${EMBREE_SOURCE_DIR}/common/sys/thread.h
    ${EMBREE_SOURCE_DIR}/common/tasking/taskscheduler.h
    ${EMBREE_SOURCE_DIR}/common/tasking/taskschedulerppl.h
    ${EMBREE_SOURCE_DIR}/common/tasking/taskschedulertbb.h
    ${EMBREE_SOURCE_DIR}/common/tasking/taskschedulerinternal.cpp
    ${EMBREE_SOURCE_DIR}/common/tasking/taskschedulerinternal.h
    ${EMBREE_SOURCE_DIR}/common/lexers/stringstream.cpp
    ${EMBREE_SOURCE_DIR}/common/lexers/stringstream.h
    ${EMBREE_SOURCE_DIR}/common/lexers/streamfilters.h
    ${EMBREE_SOURCE_DIR}/common/lexers/stream.h
    ${EMBREE_SOURCE_DIR}/common/lexers/tokenstream.cpp
    ${EMBREE_SOURCE_DIR}/common/lexers/tokenstream.h
    ${EMBREE_SOURCE_DIR}/common/lexers/parsestream.h
    ${EMBREE_SOURCE_DIR}/include/embree3/rtcore_config.h
    ${EMBREE_SOURCE_DIR}/include/embree3/rtcore_ray.h
    ${EMBREE_SOURCE_DIR}/include/embree3/rtcore_scene.h
    ${EMBREE_SOURCE_DIR}/include/embree3/rtcore_quaternion.h
    ${EMBREE_SOURCE_DIR}/include/embree3/rtcore_builder.h
    ${EMBREE_SOURCE_DIR}/include/embree3/rtcore_buffer.h
    ${EMBREE_SOURCE_DIR}/include/embree3/rtcore_geometry.h
    ${EMBREE_SOURCE_DIR}/include/embree3/rtcore_common.h
    ${EMBREE_SOURCE_DIR}/include/embree3/rtcore.h
    ${EMBREE_SOURCE_DIR}/include/embree3/rtcore_device.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_traverser_stream.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_node_aabb_mb4d.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh4_factory.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh4_factory.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_statistics.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/node_intersector_packet_stream.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/node_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_traverser1.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_node_aabb_mb.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_intersector1.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_node_qaabb.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_refit.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/node_intersector_frustum.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_node_aabb.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_intersector_hybrid.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_intersector_hybrid4_bvh4.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_node_ref.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_node_obb_mb.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_node_base.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_rotate.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_intersector_stream_filters.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh8_factory.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_collider.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_intersector_hybrid.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_builder_sah_mb.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_refit.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_builder_twolevel.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_builder_morton.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_builder_twolevel_internal.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_builder_twolevel.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_factory.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_builder.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_node_obb.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_builder.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_intersector_stream_bvh4.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh8_factory.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_builder_sah_spatial.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_intersector_stream.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_intersector1.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_rotate.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_collider.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_intersector1_bvh4.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_intersector_stream.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_intersector_stream_filters.cpp
    ${EMBREE_SOURCE_DIR}/kernels/bvh/node_intersector1.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/node_intersector_packet.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_statistics.h
    ${EMBREE_SOURCE_DIR}/kernels/bvh/bvh_builder_sah.cpp
    ${EMBREE_SOURCE_DIR}/kernels/builders/heuristic_binning_array_unaligned.h
    ${EMBREE_SOURCE_DIR}/kernels/builders/heuristic_openmerge_array.h
    ${EMBREE_SOURCE_DIR}/kernels/builders/primrefgen.h
    ${EMBREE_SOURCE_DIR}/kernels/builders/priminfo.h
    ${EMBREE_SOURCE_DIR}/kernels/builders/bvh_builder_msmblur_hair.h
    ${EMBREE_SOURCE_DIR}/kernels/builders/bvh_builder_sah.h
    ${EMBREE_SOURCE_DIR}/kernels/builders/heuristic_binning_array_aligned.h
    ${EMBREE_SOURCE_DIR}/kernels/builders/bvh_builder_msmblur.h
    ${EMBREE_SOURCE_DIR}/kernels/builders/primrefgen_presplit.h
    ${EMBREE_SOURCE_DIR}/kernels/builders/heuristic_timesplit_array.h
    ${EMBREE_SOURCE_DIR}/kernels/builders/bvh_builder_hair.h
    ${EMBREE_SOURCE_DIR}/kernels/builders/heuristic_spatial_array.h
    ${EMBREE_SOURCE_DIR}/kernels/builders/primrefgen.cpp
    ${EMBREE_SOURCE_DIR}/kernels/builders/heuristic_binning.h
    ${EMBREE_SOURCE_DIR}/kernels/builders/bvh_builder_morton.h
    ${EMBREE_SOURCE_DIR}/kernels/builders/heuristic_spatial.h
    ${EMBREE_SOURCE_DIR}/kernels/builders/heuristic_strand_array.h
    ${EMBREE_SOURCE_DIR}/kernels/builders/splitter.h
    ${EMBREE_SOURCE_DIR}/kernels/hash.h
    ${EMBREE_SOURCE_DIR}/kernels/config.h
    ${EMBREE_SOURCE_DIR}/kernels/common/rtcore.cpp
    ${EMBREE_SOURCE_DIR}/kernels/common/point_query.h
    ${EMBREE_SOURCE_DIR}/kernels/common/buffer.h
    ${EMBREE_SOURCE_DIR}/kernels/common/isa.h
    ${EMBREE_SOURCE_DIR}/kernels/common/builder.h
    ${EMBREE_SOURCE_DIR}/kernels/common/instance_stack.h
    ${EMBREE_SOURCE_DIR}/kernels/common/accelinstance.h
    ${EMBREE_SOURCE_DIR}/kernels/common/accelset.h
    ${EMBREE_SOURCE_DIR}/kernels/common/motion_derivative.h
    ${EMBREE_SOURCE_DIR}/kernels/common/scene_curves.h
    ${EMBREE_SOURCE_DIR}/kernels/common/primref.h
    ${EMBREE_SOURCE_DIR}/kernels/common/hit.h
    ${EMBREE_SOURCE_DIR}/kernels/common/scene_triangle_mesh.h
    ${EMBREE_SOURCE_DIR}/kernels/common/rtcore_builder.cpp
    ${EMBREE_SOURCE_DIR}/kernels/common/geometry.cpp
    ${EMBREE_SOURCE_DIR}/kernels/common/scene.h
    ${EMBREE_SOURCE_DIR}/kernels/common/primref_mb.h
    ${EMBREE_SOURCE_DIR}/kernels/common/scene_grid_mesh.h
    ${EMBREE_SOURCE_DIR}/kernels/common/stat.cpp
    ${EMBREE_SOURCE_DIR}/kernels/common/state.cpp
    ${EMBREE_SOURCE_DIR}/kernels/common/scene_points.h
    ${EMBREE_SOURCE_DIR}/kernels/common/state.h
    ${EMBREE_SOURCE_DIR}/kernels/common/scene_user_geometry.h
    ${EMBREE_SOURCE_DIR}/kernels/common/acceln.h
    ${EMBREE_SOURCE_DIR}/kernels/common/accel.h
    ${EMBREE_SOURCE_DIR}/kernels/common/default.h
    ${EMBREE_SOURCE_DIR}/kernels/common/scene.cpp
    ${EMBREE_SOURCE_DIR}/kernels/common/device.cpp
    ${EMBREE_SOURCE_DIR}/kernels/common/alloc.h
    ${EMBREE_SOURCE_DIR}/kernels/common/geometry.h
    ${EMBREE_SOURCE_DIR}/kernels/common/scene_triangle_mesh.cpp
    ${EMBREE_SOURCE_DIR}/kernels/common/stat.h
    ${EMBREE_SOURCE_DIR}/kernels/common/stack_item.h
    ${EMBREE_SOURCE_DIR}/kernels/common/alloc.cpp
    ${EMBREE_SOURCE_DIR}/kernels/common/vector.h
    ${EMBREE_SOURCE_DIR}/kernels/common/context.h
    ${EMBREE_SOURCE_DIR}/kernels/common/scene_quad_mesh.h
    ${EMBREE_SOURCE_DIR}/kernels/common/scene_line_segments.h
    ${EMBREE_SOURCE_DIR}/kernels/common/device.h
    ${EMBREE_SOURCE_DIR}/kernels/common/acceln.cpp
    ${EMBREE_SOURCE_DIR}/kernels/common/accelset.cpp
    ${EMBREE_SOURCE_DIR}/kernels/common/profile.h
    ${EMBREE_SOURCE_DIR}/kernels/common/scene_subdiv_mesh.h
    ${EMBREE_SOURCE_DIR}/kernels/common/rtcore.h
    ${EMBREE_SOURCE_DIR}/kernels/common/scene_instance.h
    ${EMBREE_SOURCE_DIR}/kernels/common/ray.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/object_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/quadi.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/cone.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/spherei_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/curve_intersector_virtual.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/grid_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/triangle.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/disc_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/object.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/quadv_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/triangle_intersector_moeller.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/curve_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/quad_intersector_pluecker.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/cylinder.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/instance_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/disci_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/grid_soa_intersector_packet.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/trianglev.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/roundline_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/subgrid_mb_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/curve_intersector_sweep.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/sphere_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/curve_intersector_ribbon.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/trianglei.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/subdivpatch1_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/quad_intersector_moeller.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/trianglev_mb_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/curveNi_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/roundlinei_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/subgrid_intersector_moeller.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/curveNv_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/subgrid_intersector_pluecker.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/line_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/subdivpatch1.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/curveNi.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/curve_intersector_precalculations.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/linei.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/subgrid_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/intersector_iterators.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/conelinei_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/intersector_epilog.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/curveNv.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/curve_intersector_oriented.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/primitive4.cpp
    ${EMBREE_SOURCE_DIR}/kernels/geometry/trianglev_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/instance.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/pointi.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/quadv.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/triangle_triangle_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/quadi_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/quad_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/triangle_intersector_woop.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/primitive.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/triangle_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/grid_soa_intersector1.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/subgrid.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/curve_intersector_distance.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/triangle_intersector_pluecker.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/curveNi_mb.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/filter.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/grid_soa.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/linei_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/trianglei_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/plane.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/coneline_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/curveNi_mb_intersector.h
    ${EMBREE_SOURCE_DIR}/kernels/geometry/trianglev_mb.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/bspline_patch.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/hermite_curve.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/patch_eval_grid.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/feature_adaptive_eval.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/half_edge.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/feature_adaptive_eval_grid.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/tessellation.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/bezier_curve.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/subdivpatch1base.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/catmullclark_patch.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/patch_eval.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/catmullclark_coefficients.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/catmullclark_ring.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/bilinear_patch.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/linear_bezier_patch.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/catmullrom_curve.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/patch.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/gregory_patch_dense.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/gregory_patch.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/gridrange.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/patch_eval_simd.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/feature_adaptive_eval_simd.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/bezier_patch.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/tessellation_cache.h
    ${EMBREE_SOURCE_DIR}/kernels/subdiv/bspline_curve.h
    )
godot_add_library(embree thirdparty STATIC ${EMBREE_SOURCE})
target_compile_definitions(embree PRIVATE
                                  TASKING_INTERNAL=1
                                  EMBREE_TARGET_SSE2=1
                                  EMBREE_LOWEST_ISA=1
                                  #HACK Remove the ignore
                                  EMBREE_IGNORE_INVALID_RAYS=1
                                  __SSE2__
                                  __SSE__)
target_include_directories(embree PUBLIC ${EMBREE_SOURCE_DIR}/include)
target_compile_options(embree PRIVATE -w)
